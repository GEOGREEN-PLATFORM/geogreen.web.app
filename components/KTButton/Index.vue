<template>
  <div class="kt-button-main">
    <q-btn
      :class="{
        [designType]: true,
        disabled,
      }"
      no-caps
      :label="label"
      :rounded="buttonDesignTypeSettings.rounded"
      :outline="buttonDesignTypeSettings.outline"
      :flat="buttonDesignTypeSettings.flat"
      :disable="disabled"
      :type="type"
      :loading="loading"
    />
  </div>
</template>

<script setup lang="ts">
interface Props {
  label: string
  designType: 'primary' | 'secondary' | 'tertiary'
  disabled?: boolean
  type?: 'submit'
  loading?: boolean
}
const props = withDefaults(defineProps<Props>(), {
  label: 'Зарегистрироваться',
  rounded: true,
  designType: 'primary',
  disabled: false,
})
const buttonDesignTypeSettings = ref({
  outline: false,
  rounded: true,
  flat: false,
  loading: false,
})

onMounted(() => {
  buttonDesignTypeSettings.value.outline = props.designType === 'secondary'
  buttonDesignTypeSettings.value.flat = props.designType === 'tertiary'
})
</script>

<style scoped lang="scss">
.kt-button-main {
  .primary {
    background: var(--app-blue-9);
    color: var(--app-white-1);
  }
  .secondary {
    color: var(--app-blue-9);
  }
  .tertiary {
    color: var(--app-blue-9);
  }
  .primary.disabled {
    background: var(--app-black-5);
  }
  .secondary.disabled {
    color: var(--app-black-6);
  }
  .tertiary.disabled {
    color: var(--app-black-6);
  }
}
</style>

<style lang="scss">
.kt-button-main {
  .q-btn--rounded {
    border-radius: 16px;
  }
  .q-btn {
    height: 52px;
    width: 100%;
    font-size: 16px;
    &::before {
      box-shadow: none;
    }
  }
  .q-btn.disabled {
    opacity: 1 !important;
  }
}
</style>
